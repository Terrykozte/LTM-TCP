Apr 16, 2025 6:42:57 AM chatserver.DatabaseManager initializeDatabase
SEVERE: Lỗi khi khởi tạo database
org.sqlite.SQLiteException: [SQLITE_BUSY] The database file is locked (database is locked)
	at org.sqlite.core.DB.newSQLException(DB.java:1179)
	at org.sqlite.core.DB.newSQLException(DB.java:1190)
	at org.sqlite.core.DB.execute(DB.java:985)
	at org.sqlite.core.CoreStatement.exec(CoreStatement.java:91)
	at org.sqlite.jdbc3.JDBC3Statement.lambda$execute$0(JDBC3Statement.java:56)
	at org.sqlite.jdbc3.JDBC3Statement$$Lambda$28/770656862.call(Unknown Source)
	at org.sqlite.jdbc3.JDBC3Statement.withConnectionTimeout(JDBC3Statement.java:458)
	at org.sqlite.jdbc3.JDBC3Statement.execute(JDBC3Statement.java:44)
	at chatserver.DatabaseManager.createDefaultTables(DatabaseManager.java:206)
	at chatserver.DatabaseManager.initializeDatabase(DatabaseManager.java:66)
	at chatserver.DatabaseManager.connect(DatabaseManager.java:35)
	at chatserver.ChatServer.start(ChatServer.java:43)
	at chatserver.ChatServerGUI.lambda$startServer$38(ChatServerGUI.java:1421)
	at chatserver.ChatServerGUI$$Lambda$24/1599605622.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:745)

Apr 16, 2025 6:42:57 AM chatserver.DatabaseManager connect
INFO: Kết nối đến database thành công!
Apr 16, 2025 6:42:57 AM chatserver.ChatServer start
SEVERE: Không thể khởi động server trên port 12345
java.net.BindException: Address already in use: JVM_Bind
	at java.net.DualStackPlainSocketImpl.bind0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:382)
	at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)
	at java.net.ServerSocket.bind(ServerSocket.java:375)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:128)
	at chatserver.ChatServer.start(ChatServer.java:48)
	at chatserver.ChatServerGUI.lambda$startServer$38(ChatServerGUI.java:1421)
	at chatserver.ChatServerGUI$$Lambda$24/1599605622.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:745)

Apr 16, 2025 6:43:19 AM chatserver.DatabaseManager initializeDatabase
INFO: Database được khởi tạo thành công
Apr 16, 2025 6:43:19 AM chatserver.DatabaseManager connect
INFO: Kết nối đến database thành công!
Apr 16, 2025 6:43:27 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 24454 tin nhắn từ port 12345
Apr 16, 2025 6:43:27 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 23 log kết nối từ port 12345
Apr 16, 2025 6:43:27 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 0 thông tin file từ port 12345
Apr 16, 2025 6:43:27 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 0 tin nhắn lịch sử từ port 12345
Apr 16, 2025 6:43:28 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa toàn bộ dữ liệu từ port 12345
Apr 16, 2025 6:43:46 AM chatserver.ChatServer handleUserLogin
INFO: User Terry logged in successfully
Apr 16, 2025 6:44:18 AM chatserver.ChatServer handleUserLogin
INFO: User Viet logged in successfully
Apr 16, 2025 7:13:15 AM chatserver.ChatServer handleUserLogin
INFO: User Terry logged in successfully
Apr 16, 2025 7:13:16 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Terry
Apr 16, 2025 7:51:34 AM chatserver.ChatServer handleUserLogin
INFO: User Terry logged in successfully
Apr 16, 2025 7:51:34 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Terry
Apr 16, 2025 9:01:13 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 16, 2025 9:01:13 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 16, 2025 9:07:11 AM chatserver.DatabaseManager disconnect
INFO: Đã đóng kết nối database!
Apr 16, 2025 9:07:11 AM chatserver.DatabaseManager saveMessage
SEVERE: Lỗi khi lưu tin nhắn
java.sql.SQLException: The database has been closed
	at org.sqlite.core.NativeDB.throwex(NativeDB.java:503)
	at org.sqlite.core.NativeDB.prepare_utf8(Native Method)
	at org.sqlite.core.NativeDB.prepare(NativeDB.java:135)
	at org.sqlite.core.DB.prepare(DB.java:264)
	at org.sqlite.core.CorePreparedStatement.<init>(CorePreparedStatement.java:46)
	at org.sqlite.jdbc3.JDBC3PreparedStatement.<init>(JDBC3PreparedStatement.java:32)
	at org.sqlite.jdbc4.JDBC4PreparedStatement.<init>(JDBC4PreparedStatement.java:25)
	at org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:34)
	at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:225)
	at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:205)
	at chatserver.DatabaseManager.saveMessage(DatabaseManager.java:254)
	at chatserver.ChatServer.broadcastMessage(ChatServer.java:229)
	at chatserver.ClientHandler.disconnect(ClientHandler.java:265)
	at chatserver.ClientHandler.run(ClientHandler.java:94)
	at java.lang.Thread.run(Thread.java:745)

Apr 16, 2025 9:07:11 AM chatserver.ChatServer stop
INFO: Server đã dừng trên port 12345
Apr 17, 2025 1:12:06 AM chatserver.DatabaseManager initializeDatabase
INFO: Database được khởi tạo thành công
Apr 17, 2025 1:12:06 AM chatserver.DatabaseManager connect
INFO: Kết nối đến database thành công!
Apr 17, 2025 1:12:06 AM chatserver.ChatServer start
SEVERE: Không thể khởi động server trên port 12345
java.net.BindException: Address already in use: JVM_Bind
	at java.net.DualStackPlainSocketImpl.bind0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)
	at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:382)
	at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)
	at java.net.ServerSocket.bind(ServerSocket.java:375)
	at java.net.ServerSocket.<init>(ServerSocket.java:237)
	at java.net.ServerSocket.<init>(ServerSocket.java:128)
	at chatserver.ChatServer.start(ChatServer.java:47)
	at chatserver.ChatServerGUI.lambda$startServer$41(ChatServerGUI.java:1133)
	at chatserver.ChatServerGUI$$Lambda$29/374435852.run(Unknown Source)
	at java.lang.Thread.run(Thread.java:745)

Apr 17, 2025 5:34:12 AM chatserver.DatabaseManager initializeDatabase
INFO: Database được khởi tạo thành công
Apr 17, 2025 5:34:12 AM chatserver.DatabaseManager connect
INFO: Kết nối đến database thành công!
Apr 17, 2025 5:34:22 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 5:34:22 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 5:38:03 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 5:38:03 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 5:39:46 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 5:39:46 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 5:42:53 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong already logged in, notifying new client
Apr 17, 2025 5:51:41 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 20 tin nhắn từ port 12345
Apr 17, 2025 5:51:41 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 16 log kết nối từ port 12345
Apr 17, 2025 5:51:41 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 4 thông tin file từ port 12345
Apr 17, 2025 5:51:41 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 20 tin nhắn lịch sử từ port 12345
Apr 17, 2025 5:51:41 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa toàn bộ dữ liệu từ port 12345
Apr 17, 2025 5:51:55 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 5:51:55 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 5:53:05 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 5:53:05 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 5:53:17 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 5:53:17 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 6:05:54 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 6:05:54 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 6:06:23 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 6:06:23 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 6:11:06 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong already logged in, notifying new client
Apr 17, 2025 6:12:18 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong already logged in, notifying new client
Apr 17, 2025 6:12:52 AM chatserver.ChatServer handleUserLogin
INFO: User Thuong logged in successfully
Apr 17, 2025 6:12:52 AM chatserver.ChatServer sendChatHistory
INFO: Sending chat history to Thuong
Apr 17, 2025 6:20:39 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 0 tin nhắn từ port 12345
Apr 17, 2025 6:20:39 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 12 log kết nối từ port 12345
Apr 17, 2025 6:20:39 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 2 thông tin file từ port 12345
Apr 17, 2025 6:20:39 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa 0 tin nhắn lịch sử từ port 12345
Apr 17, 2025 6:20:39 AM chatserver.DatabaseManager deleteDataByPort
INFO: Đã xóa toàn bộ dữ liệu từ port 12345
Apr 17, 2025 6:20:42 AM chatserver.DatabaseManager disconnect
INFO: Đã đóng kết nối database!
Apr 17, 2025 6:20:42 AM chatserver.ChatServer stop
INFO: Server đã dừng trên port 12345
